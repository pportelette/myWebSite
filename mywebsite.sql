-- phpMyAdmin SQL Dump
-- version 4.7.9
-- https://www.phpmyadmin.net/
--
-- Hôte : 127.0.0.1:3306
-- Généré le :  Dim 11 nov. 2018 à 07:40
-- Version du serveur :  5.7.21
-- Version de PHP :  7.2.4

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de données :  `mywebsite`
--

-- --------------------------------------------------------

--
-- Structure de la table `article`
--

DROP TABLE IF EXISTS `article`;
CREATE TABLE IF NOT EXISTS `article` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `createdAt` date NOT NULL,
  `updatedAt` date DEFAULT NULL,
  `author` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `categories` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `title` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `content` longtext COLLATE utf8_unicode_ci NOT NULL,
  `slug` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_23A0E66989D9B62` (`slug`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Déchargement des données de la table `article`
--

INSERT INTO `article` (`id`, `createdAt`, `updatedAt`, `author`, `categories`, `title`, `content`, `slug`) VALUES
(2, '2018-09-15', NULL, 'Pierre', NULL, 'Symfony 3 - Dynamic forms on 3 levels', '<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">D&rsquo;habitude, quand je coince dans un code, je trouve mon bonheur sur internet. Mais &agrave; ma grande surprise on trouve assez peu de documentation sur la gestion des formulaires dynamiques sur la toile. Cette fonctionnalit&eacute; qui semble pourtant banale et courante m&rsquo;a demand&eacute; beaucoup de temps et d&rsquo;efforts afin d&rsquo;arriver &agrave; ce que je voulais.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ainsi l&rsquo;objet de ce petit tutoriel est de partager le fruit de mes trouvailles sur ce sujet.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ce que je souhaite r&eacute;aliser&nbsp;:</span></span></p>\r\n\r\n<ul>\r\n	<li><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Un formulaire classique avec trois niveaux de listes d&eacute;roulantes dont le contenu d&eacute;pend de la s&eacute;lection pr&eacute;c&eacute;dente. Le fameux PAYS &gt; REGION -&gt; VILLE d&rsquo;une entit&eacute; Adresse par exemple, chaque item &eacute;tant lui-m&ecirc;me une entit&eacute; li&eacute;e entre elles en ManyToOne.</span></span></li>\r\n	<li><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Un formulaire d&rsquo;&eacute;dition contenant les listes d&eacute;roulantes avec leur contenu pr&eacute;s&eacute;lectionn&eacute; avec les valeurs de l&rsquo;entit&eacute; Adresse.</span></span></li>\r\n</ul>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Je vais donc s&eacute;parer ce tuto en deux &eacute;tapes, la partie &laquo;&nbsp;Nouvelle entit&eacute;&nbsp;&raquo; et la partie &laquo;&nbsp;Edition d&rsquo;entit&eacute;&nbsp;&raquo;. </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire nouvelle entit&eacute;</span></span></span></h1>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Pr&eacute;-remplir les listes d&eacute;roulantes</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Les formulaires sous Symfony &eacute;tant g&eacute;r&eacute;s par le constructeur de formulaires, il va falloir traiter ind&eacute;pendamment la partie serveur et la partie client. </span></span></p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#1f4d78\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Le back</span></span></span></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">La documentation officielle nous donne une premi&egrave;re piste avec les &eacute;v&eacute;nements de formulaire.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Je pense qu&rsquo;il est important de comprendre l&rsquo;exemple avant d&rsquo;aller plus loin. L&rsquo;id&eacute;e, est d&rsquo;&eacute;couter les &eacute;v&eacute;nements PRE_SET_DATA et POST_SUBMIT afin de modifier la structure du formulaire &agrave; l&rsquo;aide du constructeur. La base du formulaire ne contient que le champ &lsquo;sport&rsquo; et le champ &lsquo;positions&rsquo; est ajout&eacute; dynamiquement. </span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Lors de l&rsquo;&eacute;v&eacute;nement PRE_SET_DATA, le champ position est ajout&eacute; avec la variable $positions qui vaut null mais qui est d&eacute;j&agrave; un EntityType.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">L&rsquo;&eacute;v&eacute;nement POST_SUBMIT est &eacute;cout&eacute; sur le champ &lsquo;sport&nbsp;&lsquo; car c&rsquo;est de lui dont d&eacute;pend le contenu du champ &lsquo;position&rsquo;. La fonction r&eacute;cup&egrave;re la valeur du champ &lsquo;sport&rsquo; (qui est un objet) et on ex&eacute;cute la m&eacute;thode getPositions() qu&rsquo;il contient (les entit&eacute;s sont li&eacute;es Sport OneToMany Position).</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">L&rsquo;exemple fonctionne tr&egrave;s bien pour un niveau SPORT-&gt;POSITION mais ne fonctionne plus d&egrave;s qu&rsquo;on ajoute notre troisi&egrave;me champ STRATEGY par exemple. En effet si on &eacute;coute l&rsquo;&eacute;v&eacute;nement POST_SUBMIT &eacute;galement sur le champ &lsquo;position&rsquo;, celui-ci ne sera pas pris en compte d&egrave;s lors que la fonction car pour le formulaire ce champ est toujours vide. En faisant cela le probl&egrave;me est qu&rsquo;on essaie en m&ecirc;me temps de remplir la liste d&eacute;roulante et de d&eacute;clencher une fonction pour remplir un troisi&egrave;me champ.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">La solution face &agrave; cela est de changer l&eacute;g&egrave;rement de strat&eacute;gie et d&rsquo;&eacute;couter tout le formulaire (et non pas juste un champ) et de d&eacute;clencher notre fonction sur l&rsquo;&eacute;v&eacute;nement PRE_SUBMIT.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Pour l&rsquo;exemple je suis parti sur la cr&eacute;ation de tickets li&eacute;s &agrave; des incidents survenant sur des &eacute;quipements, eux-m&ecirc;mes contenus dans des postes et sur un site.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">On a la structure SITE (OneToMany)-&gt; Substation (OneToMany)-&gt; Equipment.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">C&ocirc;t&eacute; php, tout se passe dans la d&eacute;finition du formulaire. Voici le code que &ccedil;a peut donner pour notre exemple&nbsp;:</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">class</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">TicketType</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">extends</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">AbstractType</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">{</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">public</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">buildForm</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">FormBuilderInterface</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$builder</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">array</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$options</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">)</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$builder</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">add</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;site&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">EntityType</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">::</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">class</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">array</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;class&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt;&nbsp; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;PPAssetsBundle:Site&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;placeholder&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp; =&gt;&nbsp; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39; &#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;choice_label&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp; =&gt;&nbsp; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;siteName&#39;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ))</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$formSubModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">FormInterface</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\"> $siteId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">add</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;substation&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">EntityType</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">::</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">class</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">array</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;class&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> =&gt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;PPAssetsBundle:Substation&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;placeholder&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> =&gt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39; &#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;query_builder&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> =&gt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">SubstationRepository</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$repository</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">use</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$siteId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#c586c0\">return</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$repository</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getQuerySubstations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$siteId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ));&nbsp;&nbsp;&nbsp; </span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$formEquModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">FormInterface</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\"> $subId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">add</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;equipment&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">EntityType</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">::</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">class</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">array</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;class&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> =&gt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;PPAssetsBundle:Equipment&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;placeholder&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> =&gt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39; &#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;query_builder&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> =&gt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">EquipmentRepository</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$repository</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">use</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$subId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#c586c0\">return</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$repository</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getQueryEquipments</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$subId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ));</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$builder</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">addEventListener</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">FormEvents</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">::PRE_SET_DATA,</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">FormEvent</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$event</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">use</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$formSubModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\"> $formEquModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$ticket</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$event</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getData</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$site</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$ticket</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getSite</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$siteId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$site</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> ? </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$site</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">() : </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">null</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$substation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$ticket</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getSubstation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$subId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$substation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> ? </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$substation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">() : </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">null</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$event</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getForm</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">formSubModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$siteId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">formEquModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$subId</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$builder</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">addEventListener</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">FormEvents</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">::PRE_SUBMIT,</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">FormEvent</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$event</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">use</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$formSubModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">,</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\"> $formEquModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$data</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$event</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getData</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$site</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$data</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">[</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;site&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">];</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$substation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$data</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">[</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;substation&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">];</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$event</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getForm</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">formSubModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$site</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#b5cea8\">0</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">formEquModifier</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$form</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$substation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">public</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">configureOptions</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">OptionsResolver</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$resolver</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">)</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp; {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$resolver</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">setDefaults</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">array</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;data_class&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> =&gt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">Ticket</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">::</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">class</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ));</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp; }</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">public</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getBlockPrefix</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">()</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp; {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#c586c0\">return</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;ts_assetsbundle_ticket&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp; }</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">De cette mani&egrave;re nous ne r&eacute;cup&eacute;rons plus directement un objet depuis le formulaire mais un tableau contenant les valeurs des champs (les id des objets). Lors de l&rsquo;ajout de nos champs, on va utiliser ces id pour r&eacute;cup&eacute;rer les entit&eacute;s en question &agrave; l&rsquo;aide des repository.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ceux-ci contiennent les m&eacute;thodes qui renvoient une queryBuilder.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">public</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getQuerySubstations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$id</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#c586c0\">return</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">$this</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">createQueryBuilder</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;p&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">)</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">where</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;p.site = :site&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">)</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">setParameter</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;site&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$id</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Les champs seront d&eacute;sormais &laquo;&nbsp;charg&eacute;s&nbsp;&raquo; avec les objets li&eacute;s au champ pr&eacute;c&eacute;dent.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Mais ceci ne suffit pas &agrave; faire fonctionner notre formulaire. En effet si vous affichez votre formulaire, rien ne se passe. Et c&rsquo;est normal car notre code fonctionne c&ocirc;t&eacute; serveur. Il faut donc maintenant construire la partie client.</span></span></p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#1f4d78\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Le front</span></span></span></h3>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Pour le remplissage et l&rsquo;affichage des listes d&eacute;roulantes nous allons impl&eacute;menter une partie javascript avec une requ&ecirc;te ajax.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Lorsque Symfony affiche le formulaire, il cr&eacute;&eacute; les id pour chacun des champs.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">En ce qui me concerne j&rsquo;ai les id suivants&nbsp;:</span></span></p>\r\n\r\n<ul>\r\n	<li><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">pp_assetsbundle_ticket_site</span></span></span></span></span></span></li>\r\n	<li><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">pp_assetsbundle_ticket_substation</span></span></span></span></span></span></li>\r\n	<li><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">pp_assetsbundle_ticket_equipment</span></span></span></span></span></span></li>\r\n</ul>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">L&rsquo;id&eacute;e est d&rsquo;utiliser &eacute;galement les &eacute;v&eacute;nements pour ex&eacute;cuter notre requ&ecirc;te au changement de valeur des champs site et substation. On passe par notre controlleur pour la requ&ecirc;te et on ex&eacute;cute une deuxi&egrave;me fonction javascript qui modifie l&rsquo;affichage.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Concr&egrave;tement cela donne&nbsp;:</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">document</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getElementById</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;pp_assetsbundle_ticket_site&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">).</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">addEventListener</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;change&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">e</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">url</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;listsubstations/&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">+</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">e</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">target</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">value</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">ajaxGet</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">url</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">listSubstations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">});</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#608b4e\">// une fonction ajax g&eacute;n&eacute;rique</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">ajaxGet</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">url</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">callback</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">var</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">new</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">XMLHttpRequest</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">open</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;GET&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">url</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">addEventListener</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;load&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> () {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#c586c0\">if</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">status</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> &gt;= </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#b5cea8\">200</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> &amp;&amp; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">status</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> &lt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#b5cea8\">400</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#608b4e\">// Appelle la fonction callback en lui passant la r&eacute;ponse de la requ&ecirc;te</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">callback</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">responseText</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#c586c0\">else</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">console</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">error</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">status</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> + </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot; &quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> + </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">statusText</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> + </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot; &quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> + </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">url</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">console</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">log</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">responseText</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp; });</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">addEventListener</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;error&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> () {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">console</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">error</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;Erreur r&eacute;seau avec l&#39;URL &quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> + </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">url</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp; });</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">req</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">send</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">null</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#608b4e\">// Le callback</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">listSubstations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">data</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">var</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">select</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">document</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getElementById</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;pp_assetsbundle_ticket_substation&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">var</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">json</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">=</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">JSON</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">parse</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">data</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">var</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">html</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;&lt;option&gt;&lt;/option&gt;&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">json</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">substations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">forEach</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">substation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">html</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> +=</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;&lt;option value=</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d7ba7d\">\\&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">+</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">substation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">id</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">+</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d7ba7d\">\\&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&gt;&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">html</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> += </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">substation</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">name</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">html</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> +=</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&quot;&lt;/option&gt;&quot;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">});</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">select</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">.</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">innerHTML</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">html</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Et c&ocirc;t&eacute; contr&ocirc;leur&nbsp;:</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">public</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">listSubstationsAction</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> (</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$id</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$em</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">$this</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getDoctrine</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">()-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getManager</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$repository</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$em</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getRepository</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;PPAssetsBundle:Substation&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$substations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">=</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$repository</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getSubstations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$id</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$json</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">json_encode</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">array</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;substations&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> =&gt; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$substations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">));</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$response</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">new</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#4ec9b0\">Response</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$response</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">headers</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">set</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;content-Type&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;application/json&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$response</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">setContent</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$json</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#c586c0\">return</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$response</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">;</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Il faudra bien penser &agrave; d&eacute;finir la route qui appelle le bon contr&ocirc;leur ainsi que la m&eacute;thode getSubstations() du repository&nbsp;:</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">pp_assets_listsubstations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">:</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">path</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">:&nbsp;&nbsp; </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">/listsubstations/{id}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">defaults</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">: { </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">_controller</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">: </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">PPAssetsBundle:Assets:listSubstations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">public</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">function</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getSubstations</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$id</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">) {</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$qb</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\"> = </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#569cd6\">$this</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">createQueryBuilder</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;p&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">);</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#c586c0\">return</span></span></span> <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$qb</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">-&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">where</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;p.site = :site&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">)</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">setParameter</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">(</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#ce9178\">&#39;site&#39;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">, </span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#9cdcfe\">$id</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">)</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getQuery</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">()</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt;</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#dcdcaa\">getArrayResult</span></span></span><span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">();</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"background-color:#1e1e1e\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">&nbsp;&nbsp;&nbsp; <span style=\"font-size:10.5pt\"><span style=\"font-family:Consolas\"><span style=\"color:#d4d4d4\">}</span></span></span></span></span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Je ne vous copie pas les m&eacute;thodes pour les &eacute;quipements qui sont exactement les m&ecirc;mes.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Voil&agrave; pour la premi&egrave;re partie qui devrait vous permettre de cr&eacute;er de nouvelles entit&eacute;s &laquo;&nbsp;ticket&nbsp;&raquo; et de les persister en bdd.</span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire &eacute;dition entit&eacute;</span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dans cette partie on va voir comment g&eacute;rer l&rsquo;&eacute;dition d&rsquo;une entit&eacute; que l&rsquo;on vient de cr&eacute;er et que l&rsquo;on souhaiterait afficher dans un formulaire pour la modifier.</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pr&eacute;-remplir les champs avec l&rsquo;option selected</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Si on construit notre formulaire pr&eacute;c&eacute;demment cr&eacute;&eacute; avec un objet issu de la bdd, on va avoir une belle erreur&nbsp;: </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"background-color:#c00000\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\"><strong><span style=\"color:white\">Entity of type &quot;Proxies\\__CG__\\PP\\AssetsBundle\\Entity\\Site&quot; passed to the choice field must be managed. Maybe you forget to persist it in the entity manager?</span></strong></span></span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Que se passe-t-il ? Symfony cherche &agrave; construire des champs &laquo;&nbsp;EntityType&nbsp;&raquo;, donc des &laquo;&nbsp;ChoiceType&nbsp;&raquo;. Il s&rsquo;attend donc &agrave; gerer des tableaux d&rsquo;objets non directement les objets qu&rsquo;on lui propose.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme je souhaite que mes listes d&eacute;roulantes soient toujours remplies avec les choix possibles (pas seulement les valeurs de l&rsquo;objet) et que les valeurs par d&eacute;faut soient justement celles de l&rsquo;objet, je vais utiliser l&rsquo;option &laquo;&nbsp;data &raquo; du champ &laquo;&nbsp;EntityType&nbsp;&raquo;.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Pour ce faire, ce champ a besoin qu&rsquo;on lui injecte l&rsquo;EntityManager de Doctrine.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme le formulaire est fondamentalement le m&ecirc;me, je ne choisis de ne pas en construire de nouveau et de traiter ce cas dans le m&ecirc;me &laquo;&nbsp;TicketType&nbsp;&raquo;.</span></span></p>\r\n\r\n<h3 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#1f4d78\">Injecter l&rsquo;EntityManager</span></span></span></h3>\r\n\r\n<p><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Sur ce point, il suffit de suivre la documentation officielle <span style=\"color:#0563c1\"><u><a href=\"http://symfony.com/doc/3.4/form/form_dependencies.html\" style=\"color:#0563c1; text-decoration:underline\">http://symfony.com/doc/3.4/form/form_dependencies.html</a></u></span></span></span></p>', 'symfony-3-dynamic-forms-on-3-levels');
INSERT INTO `article` (`id`, `createdAt`, `updatedAt`, `author`, `categories`, `title`, `content`, `slug`) VALUES
(3, '2018-09-21', NULL, 'Pierre', NULL, 'Article test', '<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire &eacute;dition entit&eacute;</span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dans cette partie on va voir comment g&eacute;rer l&rsquo;&eacute;dition d&rsquo;une entit&eacute; que l&rsquo;on vient de cr&eacute;er et que l&rsquo;on souhaiterait afficher dans un formulaire pour la modifier.</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pr&eacute;-remplir les champs avec l&rsquo;option selected</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Si on construit notre formulaire pr&eacute;c&eacute;demment cr&eacute;&eacute; avec un objet issu de la bdd, on va avoir une belle erreur&nbsp;: </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"background-color:#c00000\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\"><strong><span style=\"color:white\">Entity of type &quot;Proxies\\__CG__\\PP\\AssetsBundle\\Entity\\Site&quot; passed to the choice field must be managed. Maybe you forget to persist it in the entity manager?</span></strong></span></span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Que se passe-t-il ? Symfony cherche &agrave; construire des champs &laquo;&nbsp;EntityType&nbsp;&raquo;, donc des &laquo;&nbsp;ChoiceType&nbsp;&raquo;. Il s&rsquo;attend donc &agrave; gerer des tableaux d&rsquo;objets non directement les objets qu&rsquo;on lui propose.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme je souhaite que mes listes d&eacute;roulantes soient toujours remplies avec les choix possibles (pas seulement les valeurs de l&rsquo;objet) et que les valeurs par d&eacute;faut soient justement celles de l&rsquo;objet, je vais utiliser l&rsquo;option &laquo;&nbsp;data &raquo; du champ &laquo;&nbsp;EntityType&nbsp;&raquo;.</span></span></p>', 'article-test'),
(4, '2018-09-21', NULL, 'Pierre', NULL, 'Article test', '<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire &eacute;dition entit&eacute;</span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dans cette partie on va voir comment g&eacute;rer l&rsquo;&eacute;dition d&rsquo;une entit&eacute; que l&rsquo;on vient de cr&eacute;er et que l&rsquo;on souhaiterait afficher dans un formulaire pour la modifier.</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pr&eacute;-remplir les champs avec l&rsquo;option selected</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Si on construit notre formulaire pr&eacute;c&eacute;demment cr&eacute;&eacute; avec un objet issu de la bdd, on va avoir une belle erreur&nbsp;: </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"background-color:#c00000\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\"><strong><span style=\"color:white\">Entity of type &quot;Proxies\\__CG__\\PP\\AssetsBundle\\Entity\\Site&quot; passed to the choice field must be managed. Maybe you forget to persist it in the entity manager?</span></strong></span></span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Que se passe-t-il ? Symfony cherche &agrave; construire des champs &laquo;&nbsp;EntityType&nbsp;&raquo;, donc des &laquo;&nbsp;ChoiceType&nbsp;&raquo;. Il s&rsquo;attend donc &agrave; gerer des tableaux d&rsquo;objets non directement les objets qu&rsquo;on lui propose.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme je souhaite que mes listes d&eacute;roulantes soient toujours remplies avec les choix possibles (pas seulement les valeurs de l&rsquo;objet) et que les valeurs par d&eacute;faut soient justement celles de l&rsquo;objet, je vais utiliser l&rsquo;option &laquo;&nbsp;data &raquo; du champ &laquo;&nbsp;EntityType&nbsp;&raquo;.</span></span></p>', 'article-test-1'),
(5, '2018-09-21', NULL, 'Pierre', NULL, 'Article test', '<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire &eacute;dition entit&eacute;</span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dans cette partie on va voir comment g&eacute;rer l&rsquo;&eacute;dition d&rsquo;une entit&eacute; que l&rsquo;on vient de cr&eacute;er et que l&rsquo;on souhaiterait afficher dans un formulaire pour la modifier.</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pr&eacute;-remplir les champs avec l&rsquo;option selected</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Si on construit notre formulaire pr&eacute;c&eacute;demment cr&eacute;&eacute; avec un objet issu de la bdd, on va avoir une belle erreur&nbsp;: </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"background-color:#c00000\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\"><strong><span style=\"color:white\">Entity of type &quot;Proxies\\__CG__\\PP\\AssetsBundle\\Entity\\Site&quot; passed to the choice field must be managed. Maybe you forget to persist it in the entity manager?</span></strong></span></span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Que se passe-t-il ? Symfony cherche &agrave; construire des champs &laquo;&nbsp;EntityType&nbsp;&raquo;, donc des &laquo;&nbsp;ChoiceType&nbsp;&raquo;. Il s&rsquo;attend donc &agrave; gerer des tableaux d&rsquo;objets non directement les objets qu&rsquo;on lui propose.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme je souhaite que mes listes d&eacute;roulantes soient toujours remplies avec les choix possibles (pas seulement les valeurs de l&rsquo;objet) et que les valeurs par d&eacute;faut soient justement celles de l&rsquo;objet, je vais utiliser l&rsquo;option &laquo;&nbsp;data &raquo; du champ &laquo;&nbsp;EntityType&nbsp;&raquo;.</span></span></p>', 'article-test-2'),
(6, '2018-09-21', NULL, 'Pierre', NULL, 'Article test', '<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire &eacute;dition entit&eacute;</span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dans cette partie on va voir comment g&eacute;rer l&rsquo;&eacute;dition d&rsquo;une entit&eacute; que l&rsquo;on vient de cr&eacute;er et que l&rsquo;on souhaiterait afficher dans un formulaire pour la modifier.</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pr&eacute;-remplir les champs avec l&rsquo;option selected</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Si on construit notre formulaire pr&eacute;c&eacute;demment cr&eacute;&eacute; avec un objet issu de la bdd, on va avoir une belle erreur&nbsp;: </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"background-color:#c00000\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\"><strong><span style=\"color:white\">Entity of type &quot;Proxies\\__CG__\\PP\\AssetsBundle\\Entity\\Site&quot; passed to the choice field must be managed. Maybe you forget to persist it in the entity manager?</span></strong></span></span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Que se passe-t-il ? Symfony cherche &agrave; construire des champs &laquo;&nbsp;EntityType&nbsp;&raquo;, donc des &laquo;&nbsp;ChoiceType&nbsp;&raquo;. Il s&rsquo;attend donc &agrave; gerer des tableaux d&rsquo;objets non directement les objets qu&rsquo;on lui propose.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme je souhaite que mes listes d&eacute;roulantes soient toujours remplies avec les choix possibles (pas seulement les valeurs de l&rsquo;objet) et que les valeurs par d&eacute;faut soient justement celles de l&rsquo;objet, je vais utiliser l&rsquo;option &laquo;&nbsp;data &raquo; du champ &laquo;&nbsp;EntityType&nbsp;&raquo;.</span></span></p>', 'article-test-3'),
(7, '2018-09-21', NULL, 'Pierre', NULL, 'Article test', '<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire &eacute;dition entit&eacute;</span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dans cette partie on va voir comment g&eacute;rer l&rsquo;&eacute;dition d&rsquo;une entit&eacute; que l&rsquo;on vient de cr&eacute;er et que l&rsquo;on souhaiterait afficher dans un formulaire pour la modifier.</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pr&eacute;-remplir les champs avec l&rsquo;option selected</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Si on construit notre formulaire pr&eacute;c&eacute;demment cr&eacute;&eacute; avec un objet issu de la bdd, on va avoir une belle erreur&nbsp;: </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"background-color:#c00000\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\"><strong><span style=\"color:white\">Entity of type &quot;Proxies\\__CG__\\PP\\AssetsBundle\\Entity\\Site&quot; passed to the choice field must be managed. Maybe you forget to persist it in the entity manager?</span></strong></span></span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Que se passe-t-il ? Symfony cherche &agrave; construire des champs &laquo;&nbsp;EntityType&nbsp;&raquo;, donc des &laquo;&nbsp;ChoiceType&nbsp;&raquo;. Il s&rsquo;attend donc &agrave; gerer des tableaux d&rsquo;objets non directement les objets qu&rsquo;on lui propose.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme je souhaite que mes listes d&eacute;roulantes soient toujours remplies avec les choix possibles (pas seulement les valeurs de l&rsquo;objet) et que les valeurs par d&eacute;faut soient justement celles de l&rsquo;objet, je vais utiliser l&rsquo;option &laquo;&nbsp;data &raquo; du champ &laquo;&nbsp;EntityType&nbsp;&raquo;.</span></span></p>', 'article-test-4'),
(8, '2018-09-21', NULL, 'Pierre', NULL, 'Article test', '<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire &eacute;dition entit&eacute;</span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dans cette partie on va voir comment g&eacute;rer l&rsquo;&eacute;dition d&rsquo;une entit&eacute; que l&rsquo;on vient de cr&eacute;er et que l&rsquo;on souhaiterait afficher dans un formulaire pour la modifier.</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pr&eacute;-remplir les champs avec l&rsquo;option selected</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Si on construit notre formulaire pr&eacute;c&eacute;demment cr&eacute;&eacute; avec un objet issu de la bdd, on va avoir une belle erreur&nbsp;: </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"background-color:#c00000\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\"><strong><span style=\"color:white\">Entity of type &quot;Proxies\\__CG__\\PP\\AssetsBundle\\Entity\\Site&quot; passed to the choice field must be managed. Maybe you forget to persist it in the entity manager?</span></strong></span></span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Que se passe-t-il ? Symfony cherche &agrave; construire des champs &laquo;&nbsp;EntityType&nbsp;&raquo;, donc des &laquo;&nbsp;ChoiceType&nbsp;&raquo;. Il s&rsquo;attend donc &agrave; gerer des tableaux d&rsquo;objets non directement les objets qu&rsquo;on lui propose.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme je souhaite que mes listes d&eacute;roulantes soient toujours remplies avec les choix possibles (pas seulement les valeurs de l&rsquo;objet) et que les valeurs par d&eacute;faut soient justement celles de l&rsquo;objet, je vais utiliser l&rsquo;option &laquo;&nbsp;data &raquo; du champ &laquo;&nbsp;EntityType&nbsp;&raquo;.</span></span></p>', 'article-test-5'),
(9, '2018-09-21', NULL, 'Pierre', NULL, 'Article test coucou', '<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">Formulaire &eacute;dition entit&eacute;</span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dans cette partie on va voir comment g&eacute;rer l&rsquo;&eacute;dition d&rsquo;une entit&eacute; que l&rsquo;on vient de cr&eacute;er et que l&rsquo;on souhaiterait afficher dans un formulaire pour la modifier.</span></span></p>\r\n\r\n<h2 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:13pt\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pr&eacute;-remplir les champs avec l&rsquo;option selected</span></span></span></h2>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Si on construit notre formulaire pr&eacute;c&eacute;demment cr&eacute;&eacute; avec un objet issu de la bdd, on va avoir une belle erreur&nbsp;: </span></span></p>\r\n\r\n<h1 style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:16pt\"><span style=\"background-color:#c00000\"><span style=\"font-family:&quot;Calibri Light&quot;,sans-serif\"><span style=\"color:#2e74b5\"><strong><span style=\"color:white\">Entity of type &quot;Proxies\\__CG__\\PP\\AssetsBundle\\Entity\\Site&quot; passed to the choice field must be managed. Maybe you forget to persist it in the entity manager?</span></strong></span></span></span></span></h1>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\">&nbsp;</p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Que se passe-t-il ? Symfony cherche &agrave; construire des champs &laquo;&nbsp;EntityType&nbsp;&raquo;, donc des &laquo;&nbsp;ChoiceType&nbsp;&raquo;. Il s&rsquo;attend donc &agrave; gerer des tableaux d&rsquo;objets non directement les objets qu&rsquo;on lui propose.</span></span></p>\r\n\r\n<p style=\"margin-left:0cm; margin-right:0cm\"><span style=\"font-size:11pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Comme je souhaite que mes listes d&eacute;roulantes soient toujours remplies avec les choix possibles (pas seulement les valeurs de l&rsquo;objet) et que les valeurs par d&eacute;faut soient justement celles de l&rsquo;objet, je vais utiliser l&rsquo;option &laquo;&nbsp;data &raquo; du champ &laquo;&nbsp;EntityType&nbsp;&raquo;.</span></span></p>', 'article-test-coucou');

-- --------------------------------------------------------

--
-- Structure de la table `comment`
--

DROP TABLE IF EXISTS `comment`;
CREATE TABLE IF NOT EXISTS `comment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `article_id` int(11) NOT NULL,
  `username` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `date` datetime NOT NULL,
  `content` longtext COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_9474526C7294869C` (`article_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Déchargement des données de la table `comment`
--

INSERT INTO `comment` (`id`, `article_id`, `username`, `date`, `content`) VALUES
(3, 2, 'Siyuan', '2018-09-16 13:32:53', 'Tu es trop fort !'),
(4, 2, 'Pierrot', '2018-09-21 03:56:53', 'Mais bon on comprend rien quand même !'),
(5, 2, 'Pierrot', '2018-09-21 03:57:16', 'Mais bon on comprend rien quand même !');

-- --------------------------------------------------------

--
-- Structure de la table `education`
--

DROP TABLE IF EXISTS `education`;
CREATE TABLE IF NOT EXISTS `education` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `startDate` date NOT NULL,
  `endDate` date DEFAULT NULL,
  `city` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `country` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `description` longtext COLLATE utf8_unicode_ci,
  `schoolName` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `diploma` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `major` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Déchargement des données de la table `education`
--

INSERT INTO `education` (`id`, `startDate`, `endDate`, `city`, `country`, `description`, `schoolName`, `diploma`, `major`) VALUES
(1, '2005-09-01', '2008-09-01', 'Clermont-Ferrand', 'France', '', 'Polytech\'Clermont-Ferrand', 'Master\'s Degree', 'Physics'),
(2, '2008-09-01', '2009-03-01', 'Clermont Ferrand', 'France', 'd', 'IAE Clermont-Ferrand', 'Master\'s Degree', 'Management and Business Administration'),
(3, '2002-09-01', '2005-08-01', 'Aix en Provence', 'France', 'd', 'Aix-Marseille University', 'Bachelor\'s Degree', 'Mathematics and Physics');

-- --------------------------------------------------------

--
-- Structure de la table `internship`
--

DROP TABLE IF EXISTS `internship`;
CREATE TABLE IF NOT EXISTS `internship` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `startDate` date NOT NULL,
  `endDate` date DEFAULT NULL,
  `city` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `country` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `description` longtext COLLATE utf8_unicode_ci,
  `duration` int(11) NOT NULL,
  `CompanyName` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `position` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Déchargement des données de la table `internship`
--

INSERT INTO `internship` (`id`, `startDate`, `endDate`, `city`, `country`, `description`, `duration`, `CompanyName`, `position`) VALUES
(1, '2008-02-01', '2008-07-31', 'Limoges', 'France', 'Creation of a quality monitoring method for purchased items.', 6, 'Legrand', 'Purchase Quality Department'),
(2, '2007-07-01', '2007-08-31', 'Fos sur Mer', 'France', 'Non-destructive testing (ultrasounds) of steels used for pipelines in ocean environment.', 2, 'Arcelor Mittal', 'Production Laboratory');

-- --------------------------------------------------------

--
-- Structure de la table `message`
--

DROP TABLE IF EXISTS `message`;
CREATE TABLE IF NOT EXISTS `message` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `email` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `phone` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `body` longtext COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Déchargement des données de la table `message`
--

INSERT INTO `message` (`id`, `name`, `email`, `phone`, `body`) VALUES
(1, 'Pierre', 'pierre.portelette@free.fr', '13162509454', 'Message de test'),
(2, 'Pierre', 'pierre.portelette@free.fr', NULL, 'Coucou ça marche ?'),
(5, 'Pierre', 'pierre.portelette@free.fr', NULL, 'Coucou ça marche ?'),
(6, 'Pierre', 'pierre.portelette@free.fr', NULL, 'Coucou ça marche ?');

-- --------------------------------------------------------

--
-- Structure de la table `professional`
--

DROP TABLE IF EXISTS `professional`;
CREATE TABLE IF NOT EXISTS `professional` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `startDate` date NOT NULL,
  `endDate` date DEFAULT NULL,
  `city` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `country` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `description` longtext COLLATE utf8_unicode_ci,
  `CompanyName` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `position` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Déchargement des données de la table `professional`
--

INSERT INTO `professional` (`id`, `startDate`, `endDate`, `city`, `country`, `description`, `CompanyName`, `position`) VALUES
(1, '2009-05-01', '2013-03-01', 'Montpellier', 'France', '<strong>Project management:</strong> for residential and industrial PV plants. Sourcing and purchasing materials, designing plans, planning of projects.<Br/>\r\n<strong>Construction management:</strong> Operational manager of 2 teams of 3 technicians each on field. Led the construction of a 90 kWp plant.<Br/>\r\n<strong>Tendering:</strong> Realization of offers and technical support for industrial plants (9 to 100 kWp).\r\n', 'Mecamidi Solar', 'Project Manager'),
(3, '2014-12-02', '2018-03-11', 'Lyon', 'France', '<strong>Operation and maintenance of PV plants:</strong> daily monitored PV plants (Kerwin, Conext Control). In charge of 15 plants in operation (42 MWp – 90 inverters).<Br/>\r\n<strong>Planning of interventions and annual maintenances:</strong> I was responsible for remote diagnosis and start intervention for corrective and preventive maintenance.<Br/>\r\n<strong>Performance reports:</strong> monthly edited production reports; calculation of energy losses. I took led a work group for improvement and automating reports to elaborate a new reporting tool and designed a model (application web). Key user for the CMMS tool for France.\r\n', 'Schneider Electric', 'Solar Operation Manager'),
(4, '2018-06-01', '2000-01-01', 'Shanghai', 'China', 'Set-up the monitoring of projects in China.<Br/>\r\nStructure O&M activity and services.<Br/>\r\nMonitor and assess the performances of projects.<Br/>\r\nOrganize and improve O&M activities and process to reach target availability.<Br/>\r\nSupervise procurement, stocks and flows of spare parts.<Br/>\r\nPrepare regular reporting for the international financial partners.<Br/>\r\nParticipate in PV projects assessment and due diligence with the technical team.<Br/>', 'Third Step', 'O&M Manager');

-- --------------------------------------------------------

--
-- Structure de la table `user`
--

DROP TABLE IF EXISTS `user`;
CREATE TABLE IF NOT EXISTS `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `password` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `salt` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `name` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `surname` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `birthDate` date NOT NULL,
  `phone` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `email` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `city` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `country` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `roles` longtext COLLATE utf8_unicode_ci NOT NULL COMMENT '(DC2Type:array)',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_8D93D649F85E0677` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Déchargement des données de la table `user`
--

INSERT INTO `user` (`id`, `username`, `password`, `salt`, `name`, `surname`, `birthDate`, `phone`, `email`, `city`, `country`, `roles`) VALUES
(3, 'admin', 'admin', '', 'Portelette', 'Pierre', '1984-03-05', '+86 131 6250 9454', 'pierre.portelette@free.fr', 'Shanghai', 'China', 'a:1:{i:0;s:10:\"ROLE_ADMIN\";}');

--
-- Contraintes pour les tables déchargées
--

--
-- Contraintes pour la table `comment`
--
ALTER TABLE `comment`
  ADD CONSTRAINT `FK_9474526C7294869C` FOREIGN KEY (`article_id`) REFERENCES `article` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
